cmake_minimum_required(VERSION 3.15)
project(Gwent VERSION 1.0 LANGUAGES CXX)

# Set C++ standard
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# --- Include Directories ---
include_directories(
    include
    ${CMAKE_CURRENT_SOURCE_DIR}
)

# --- Source Files ---
# Card Components
set(CARD_SOURCES
    src/Card/AbilityCard.cpp
    src/Card/Card.cpp
    src/Card/HeroCard.cpp
    src/Card/UnitCard.cpp
    src/Card/WeatherCard.cpp
)

# Core Components
set(CORE_SOURCES
    src/Core/Board.cpp
    src/Core/Deck.cpp
    src/Core/Game.cpp
    src/Core/Player.cpp
)

# Utils Components
set(UTILS_SOURCES
    src/Utils/CardUtils.cpp
)

# --- Executable ---
add_executable(gwent
    main.cpp  # Assuming this exists in root
    ${CARD_SOURCES}
    ${CORE_SOURCES}
    ${UTILS_SOURCES}
)

# --- Dependencies ---
# If using nlohmann/json (for enums.h or other utilities)
find_package(nlohmann_json 3.9.1 QUIET)
if(TARGET nlohmann_json::nlohmann_json)
    target_link_libraries(gwent PRIVATE nlohmann_json::nlohmann_json)
else()
    message(WARNING "nlohmann_json not found - ensure json.hpp is in include/")
endif()

# --- Data Files (if any) ---
# Uncomment if you have data files like cards.json
# configure_file(
#     ${CMAKE_CURRENT_SOURCE_DIR}/data/cards.json
#     ${CMAKE_CURRENT_BINARY_DIR}/cards.json
#     COPYONLY
# )

# --- Install Rules (Optional) ---
install(TARGETS gwent DESTINATION bin)